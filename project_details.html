<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>
         <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script>
         <script src="https://cdn.firebase.com/libs/firebaseui/1.0.1/firebaseui.js"></script>

  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/1.0.1/firebaseui.css" />
      <meta charset="UTF-8">
      <title>Erbium</title>
      <!--Import Google Icon Font-->
      <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
      <!--Import materialize.css-->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">
      <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
          <!-- Compiled and minified JavaScript -->
          <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
      <!--Let browser know website is optimized for mobile-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
      <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script>
      <nav>
        <div class="nav-wrapper cyan">
          <a href="#" class="brand-logo center">Erbium</a>
        </div>
      </nav>
    </head>

<body>
  <body class="cyan lighten-5">
        <!--Import jQuery before materialize.js-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script type="text/javascript" src="js/materialize.min.js"></script>
    <!-- The surrounding HTML is left untouched by FirebaseUI.
         Your app may use that space for branding, controls and other customizations.-->
         <div class="center">
            <img id="picture" class="responsive-img" src="bigboys.jpg" height="250" width="500">
            <div class="center">
                <span id="cost" class="black-text">
                    Cost of the Application
                </span>
            </div>
            <div class="center">
                <span id="description" class="black-text">
                    Text describing the application.
                </span>
            </div>
                <div id="large" class="center section scrollspy">
                    <a class="waves-effect waves-light btn-large red darken-4" href="mailto:EMAILADDRESS"><i class="material-icons left">pan_tool</i>Join Development</a>
                    <a class="waves-effect waves-light btn-large lime darken-3"><i class="material-icons left">euro_symbol</i>Invest</a>
                    <a class="waves-effect waves-light btn-large light-green darken-3"><i class="material-icons left">local_offer</i>Buy</a>
                </div>
        </div>
        <script>
            // Initialize Firebase
            const config = {
                apiKey: "AIzaSyDBzjLVkuyIoqA1CCpPKLEpjZ_XalZaS7A",
                authDomain: "uberforce-v1.firebaseapp.com",
                databaseURL: "https://uberforce-v1.firebaseio.com",
                projectId: "uberforce-v1",
                storageBucket: "uberforce-v1.appspot.com",
                messagingSenderId: "35935706494"
            };
            firebase.initializeApp(config);

            url_string = window.location;
            var url = new URL(url_string);
            //var projectId = url.searchParams.get("name");
            
            /*
            return firebase.database().ref('/item/' + projectId).once('value').then(function(snapshot) {
              //  var name = (snapshot.val() && snapshot.val().name) || 'No Name';
              //  var picture = (snapshot.val() && snapshot.val().picture);
              //  var cost = (snapshot.val() && snapshot.val().cost) || 'cost';
              //  var description = (snapshot.val() && snapshot.val().description) || 'description';

                console.log(snapshot.val())
            });
            */

              firebase.auth().onAuthStateChanged(user => {
                if (user) {
                    firebase.database().ref('/item/' + projectId).once('value', snapshot => {
                        console.log(snapshot.val());
                        document.getElementById("picture").src = snapshot.val().picture
                        document.getElementById("description").textContent = snapshot.val().description
                        document.getElementById("cost").textContent = snapshot.val().cost


                    });
                } else {
                    window.location.redirect("/index.html");
                }
            });
    
        </script>
  </body>
</html>

<!DOCTYPE html>
<html>

  <head>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.indigo-pink.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/css/materialize.min.css">

    <script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0-beta/js/materialize.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/3.8.0/firebase.js"></script>

  </head>

  <body>
  <!--First Prompt-->
  <center><h5>Name of Product to List:</h5></center>
<center><form action="#">
  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="text" id="productName">
    <label class="mdl-textfield__label" for="productName">Product</label>
  </div>
</form></center>


<!--Upload Picture-->
<center><h5>Upload Picture</h5></center>
<!--break-->
<br>
<center>
  <input id="picture"  onchange="readURL(this)" class="mdl-button mdl-js-button mdl-button--raised" type="file" name="pic" accept="image/*">

<!--break-->


<!--Price-->
<center><h5>Price (in Dollars)</h5></center>
<center><form action="#">
  <div class="mdl-textfield mdl-js-textfield mdl-textfield--floating-label">
    <input class="mdl-textfield__input" type="text" pattern="-?[0-9]*(\.[0-9]+)?" id="cost">
    <label class="mdl-textfield__label" for="cost">Cost</label>
    <span class="mdl-textfield__error">You must input a valid number</span>
  </div>
</form></center>

<!--Description-->
<center><h5>Short Description</h5></center>
<!--break-->
<br><br>
<center>
<textarea id="description" name="myTextBox" cols="20" rows="5">
</textarea>
<br><br>
<input onclick="send()" class="mdl-button mdl-js-button mdl-button--raised" type="submit" />

</center>
<script>
  // Initialize Firebase

  var config = {
    apiKey: "AIzaSyDBzjLVkuyIoqA1CCpPKLEpjZ_XalZaS7A",
    authDomain: "uberforce-v1.firebaseapp.com",
    databaseURL: "https://uberforce-v1.firebaseio.com",
    projectId: "uberforce-v1",
    storageBucket: "uberforce-v1.appspot.com",
    messagingSenderId: "35935706494"
  };
  firebase.initializeApp(config);
</script>
<script type="text/javascript">
var imgData;
var database = firebase.database();
console.log(database)

function readURL(input) {
			if (input.files && input.files[0]) {
				var reader = new FileReader();
				reader.onload = function(e) {
					imgData = e.target.result
					console.log(imgData);
				};
				reader.readAsDataURL(input.files[0]);
			}
		}

  function send(){
    name = document.getElementById("productName").value;
    picture  = imgData;
    cost = document.getElementById("cost").value;
    description = document.getElementById("description").value;
    console.log(name)
    console.log(picture)
    console.log(cost)
    console.log(description)
  firebase.database().ref('/item/' + name).set({
    name: name,
    picture: picture,
    cost : cost,
    description: description
  });

  }
</script>
  </body>


</html>
